<app-upload (upload)="upload($event)"></app-upload>
&nbsp;
<button ngbTooltip="Save to DB"  [disabled]="isFileRead" class="btn btn-default">Save to DB</button>
&nbsp;
<button ngbTooltip="Clean" [disabled]="isFileRead" (click)="reset()" class="btn btn-default">Clean</button>&nbsp;
&nbsp;
<table class="table table-striped">
    <thead>
        <tr>
            <td>Order No</td>
            <td>Payroll Number</td>
            <td>Forenames</td>
            <td>Surname</td>
            <td>DoB</td>
            <td>Telephone</td>
            <td>Mobile</td>
            <td>Address</td>
            <td>Address_2</td>
            <td>Postcode</td>
            <td>EMail_Home</td>
            <td>Start_Date</td>
            <td colspan="2">Actions</td>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let personnel of fileContent.data let i = index">   
            <ng-template [ngTemplateOutlet]="loadTemplate(personnel)"
                [ngTemplateOutletContext]="{ $implicit: personnel}">
            </ng-template>
        </tr>
    </tbody>
</table>
<ng-template #readOnlyTemplate let-personnel>
    <td>{{personnel.personnelId}}</td>
    <td>{{personnel.payroll_Number}}</td>
    <td>{{personnel.forenames}}</td>
    <td>{{personnel.surname}}</td>
    <td>{{personnel.date_of_Birth}}</td>
    <td>{{personnel.telephone}}</td>
    <td>{{personnel.mobile}}</td>
    <td>{{personnel.address}}</td>
    <td>{{personnel.address_2}}</td>
    <td>{{personnel.postcode}}</td>
    <td>{{personnel.eMail_Home}}</td>
    <td>{{personnel.start_Date}}</td>
    <td>
        <input type="button" value="Change" (click)="editUser(personnel)" class="btn btn-default"  />
    </td>
    <td>
        <input type="button" value="Delete" (click)="deleteUser(personnel.payroll_Number)"  class="btn btn-danger" />
    </td>
</ng-template>

<ng-template #editTemplate>
    <td><input type="number" [(ngModel)]="editedPersonnel.personnelId" readonly disabled class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.payroll_Number" class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.forenames" class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.surname" class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.date_of_Birth" class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.telephone" class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.mobile" class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.address" class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.address_2" class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.postcode" class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.eMail_Home" class="form-control" /></td>
    <td><input type="text" [(ngModel)]="editedPersonnel.start_Date" class="form-control" /></td>
    <td><input type="button" value="Save" (click)="savePersonnel(editedPersonnel)"  class="btn btn-success" /></td>
    <td><input type="button" value="Cancel" (click)="cancel()"  class="btn btn-warning" /></td>
</ng-template>
<!--<code>
    {{ fileContent.data | json }}
</code>-->